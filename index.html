<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home Theater Cost Estimator</title>

    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        gold: {
                            400: '#E5C558',
                            500: '#D4AF37',
                            600: '#B59226',
                        },
                        charcoal: '#121212',
                        surface: '#1E1E1E',
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #000;
            color: #fff;
        }

        .slider-thumb::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #D4AF37;
            cursor: pointer;
        }

        .glass-panel {
            background: rgba(30, 30, 30, 0.6);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(212, 175, 55, 0.2);
        }

        .blur-content {
            filter: blur(8px);
            user-select: none;
            pointer-events: none;
        }
    </style>
</head>

<body
    class="min-h-screen flex items-center justify-center p-4 bg-[url('https://images.unsplash.com/photo-1517604931442-71053e68cc23?q=80&w=2070&auto=format&fit=crop')] bg-cover bg-center bg-no-repeat bg-fixed">
    <div class="absolute inset-0 bg-black/80"></div>

    <div id="root" class="relative z-10 w-full max-w-4xl"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // Icons as Components
        const TvIcon = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect width="20" height="15" x="2" y="7" rx="2" ry="2" /><polyline points="17 2 12 7 7 2" /></svg>
        );
        const ProjectorIcon = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M5 7h14a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2Z" /><path d="M12 13v-3" /><path d="M12 18v-2" /><path d="M12 7V5" /><path d="M5 13v-3" /><path d="M5 18v-2" /><path d="M5 7V5" /><path d="M19 13v-3" /><path d="M19 18v-2" /><path d="M19 7V5" /></svg> // Approximation
        );
        const SpeakerIcon = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect width="4" height="20" x="4" y="2" rx="2" /><circle cx="6" cy="6" r="1" /><circle cx="6" cy="18" r="1" /><path d="M12 2v20" /><path d="M16 2v20" /><path d="M20 2v20" /></svg>
        );
        const CheckIcon = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polyline points="20 6 9 17 4 12" /></svg>
        );
        const LockIcon = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect width="18" height="11" x="3" y="11" rx="2" ry="2" /><path d="M7 11V7a5 5 0 0 1 10 0v4" /></svg>
        );
        const WhatsAppIcon = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" className={className}><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z" /></svg>
        );

        // Pricing Data (Researched Average Market Rates in India - Nov 2025)
        const PRICING = {
            roomSize: {
                small: { label: 'Small (Den/Bedroom)', multiplier: 1.0 },
                medium: { label: 'Medium (Living Room)', multiplier: 1.2 },
                large: { label: 'Large (Dedicated Hall)', multiplier: 1.5 },
            },
            video: {
                tv: { label: '85" 4K QLED TV (Sony/Samsung)', cost: 250000 },
                projector: { label: '4K Laser Projector (BenQ/Optoma)', cost: 280000 },
                imax: { label: 'IMAX Enhanced Certified System', cost: 1000000 },
            },
            audio: {
                soundbar: { label: 'Premium Dolby Atmos Soundbar', cost: 80000 },
                surround: { label: '5.1 Component System (Denon/Polk)', cost: 200000 },
                atmos: { label: 'Dolby Atmos 7.1.4 Reference System', cost: 650000 },
            },
            installation: 50000, // Base installation
        };

        const formatCurrency = (amount) => {
            return new Intl.NumberFormat('en-IN', {
                style: 'currency',
                currency: 'INR',
                maximumFractionDigits: 0,
            }).format(amount);
        };

        function App() {
            const [roomSize, setRoomSize] = useState('medium');
            const [videoTier, setVideoTier] = useState('projector');
            const [audioTier, setAudioTier] = useState('surround');

            const [isUnlocked, setIsUnlocked] = useState(false);
            const [formData, setFormData] = useState({ name: '', phone: '' });
            const [errors, setErrors] = useState({});
            const [loading, setLoading] = useState(false);
            const [showModal, setShowModal] = useState(false);

            const calculateTotal = useMemo(() => {
                const baseVideo = PRICING.video[videoTier].cost;
                const baseAudio = PRICING.audio[audioTier].cost;

                const multiplier = PRICING.roomSize[roomSize].multiplier;

                const equipment = baseVideo + baseAudio;
                const installation = PRICING.installation * multiplier;
                const acoustics = (equipment * 0.1) * multiplier;

                return equipment + installation + acoustics;
            }, [roomSize, videoTier, audioTier]);

            const handleSubmit = async (e) => {
                e.preventDefault();

                const newErrors = {};

                if (formData.name.trim().length < 2) {
                    newErrors.name = "Name must be at least 2 characters.";
                }

                const phoneRegex = /^(\+91[\-\s]?)?[6-9]\d{9}$/;
                if (!phoneRegex.test(formData.phone.replace(/\s+/g, ''))) {
                    newErrors.phone = "Please enter a valid 10-digit mobile number.";
                }

                if (Object.keys(newErrors).length > 0) {
                    setErrors(newErrors);
                    return;
                }

                setErrors({});
                setLoading(true);

                try {
                    const response = await fetch("https://api.web3forms.com/submit", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json",
                            Accept: "application/json",
                        },
                        body: JSON.stringify({
                            access_key: "21417fc9-cf9b-45c7-a353-4a18f6fa5d86",
                            name: formData.name,
                            phone: formData.phone,
                            roomSize: PRICING.roomSize[roomSize].label,
                            videoTier: PRICING.video[videoTier].label,
                            audioTier: PRICING.audio[audioTier].label,
                            estimatedCost: formatCurrency(calculateTotal),
                        }),
                    });

                    const result = await response.json();

                    if (result.success) {
                        setLoading(false);
                        setIsUnlocked(true);
                        setShowModal(true);
                    } else {
                        setLoading(false);
                        alert("Connection failed. Please try again.");
                    }
                } catch (error) {
                    setLoading(false);
                    alert("An error occurred. Please try again later.");
                }
            };

            return (
                <div className="glass-panel rounded-2xl overflow-hidden shadow-2xl border border-gold-500/30">
                    {/* Header */}
                    <div className="bg-charcoal/90 p-6 border-b border-gold-500/20 text-center">
                        <h1 className="text-3xl font-bold text-gold-500 tracking-wider uppercase">Cinema Configurator</h1>
                        <p className="text-gray-400 text-sm mt-1">Design Your Private Theater Experience</p>
                    </div>

                    <div className="flex flex-col md:flex-row">
                        {/* Controls Section */}
                        <div className="p-8 md:w-1/2 space-y-8 bg-surface/80">

                            {/* Room Size */}
                            <div className="space-y-3">
                                <label className="text-gold-400 text-sm font-semibold uppercase tracking-wide">Room Size</label>
                                <div className="grid grid-cols-3 gap-2">
                                    {Object.entries(PRICING.roomSize).map(([key, { label }]) => (
                                        <button
                                            key={key}
                                            onClick={() => setRoomSize(key)}
                                            className={`p-3 rounded-lg text-xs md:text-sm transition-all duration-300 border ${roomSize === key
                                                ? 'bg-gold-500 text-black border-gold-500 font-bold shadow-[0_0_15px_rgba(212,175,55,0.4)]'
                                                : 'bg-charcoal border-gray-700 text-gray-400 hover:border-gold-500/50'
                                                } `}
                                        >
                                            {key.charAt(0).toUpperCase() + key.slice(1)}
                                        </button>
                                    ))}
                                </div>
                                <p className="text-xs text-gray-500">{PRICING.roomSize[roomSize].label}</p>
                            </div>

                            {/* Video Tier */}
                            <div className="space-y-3">
                                <label className="text-gold-400 text-sm font-semibold uppercase tracking-wide flex items-center gap-2">
                                    <TvIcon className="w-4 h-4" /> Video Experience
                                </label>
                                <div className="space-y-2">
                                    {Object.entries(PRICING.video).map(([key, { label, cost }]) => (
                                        <div
                                            key={key}
                                            onClick={() => setVideoTier(key)}
                                            className={`flex items-center justify-between p-4 rounded-xl cursor-pointer border transition-all ${videoTier === key
                                                ? 'bg-gradient-to-r from-gold-500/20 to-transparent border-gold-500'
                                                : 'bg-charcoal/50 border-gray-800 hover:border-gray-600'
                                                } `}
                                        >
                                            <span className={`font-medium ${videoTier === key ? 'text-gold-400' : 'text-gray-300'} `}>{label}</span>
                                            {videoTier === key && <CheckIcon className="text-gold-500 w-5 h-5" />}
                                        </div>
                                    ))}
                                </div>
                            </div>

                            {/* Audio Tier */}
                            <div className="space-y-3">
                                <label className="text-gold-400 text-sm font-semibold uppercase tracking-wide flex items-center gap-2">
                                    <SpeakerIcon className="w-4 h-4" /> Audio Immersion
                                </label>
                                <input
                                    type="range"
                                    min="0"
                                    max="2"
                                    step="1"
                                    value={Object.keys(PRICING.audio).indexOf(audioTier)}
                                    onChange={(e) => setAudioTier(Object.keys(PRICING.audio)[e.target.value])}
                                    className="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider-thumb"
                                />
                                <div className="flex justify-between text-xs text-gray-500 px-1">
                                    <span>Soundbar</span>
                                    <span>5.1 Surround</span>
                                    <span>Dolby Atmos</span>
                                </div>
                                <div className="text-center text-gold-400 font-medium mt-2">
                                    {PRICING.audio[audioTier].label}
                                </div>
                            </div>

                        </div>

                        {/* Result Section */}
                        <div className="md:w-1/2 bg-black/40 p-8 flex flex-col relative">

                            {/* Live Estimate Header */}
                            <div className="mb-8 text-center">
                                <p className="text-gray-400 text-sm uppercase tracking-widest mb-2">Estimated Investment</p>
                                <div className="text-4xl md:text-5xl font-bold text-white drop-shadow-[0_0_10px_rgba(255,255,255,0.3)]">
                                    {isUnlocked ? formatCurrency(calculateTotal) : '---'}
                                </div>
                                <p className="text-xs text-gray-500 mt-2">*Excluding taxes & civil work</p>
                            </div>

                            {/* Breakdown (Blurred or Unlocked) */}
                            <div className="flex-grow relative">
                                <div className={`space-y-4 transition-all duration-500 ${!isUnlocked ? 'blur-content opacity-50' : 'opacity-100'} `}>
                                    <div className="flex justify-between border-b border-gray-800 pb-2">
                                        <span className="text-gray-400">Video Equipment</span>
                                        <span className="text-white">{formatCurrency(PRICING.video[videoTier].cost)}</span>
                                    </div>
                                    <div className="flex justify-between border-b border-gray-800 pb-2">
                                        <span className="text-gray-400">Audio System</span>
                                        <span className="text-white">{formatCurrency(PRICING.audio[audioTier].cost)}</span>
                                    </div>
                                    <div className="flex justify-between border-b border-gray-800 pb-2">
                                        <span className="text-gray-400">Installation & Calibration</span>
                                        <span className="text-white">{formatCurrency(PRICING.installation * PRICING.roomSize[roomSize].multiplier)}</span>
                                    </div>
                                    <div className="flex justify-between border-b border-gray-800 pb-2">
                                        <span className="text-gray-400">Acoustic Treatment (Est.)</span>
                                        <span className="text-white">{formatCurrency((PRICING.video[videoTier].cost + PRICING.audio[audioTier].cost) * 0.1 * PRICING.roomSize[roomSize].multiplier)}</span>
                                    </div>
                                </div>

                                {/* Gate Overlay */}
                                {!isUnlocked && (
                                    <div className="absolute inset-0 flex items-center justify-center z-20">
                                        <div className="bg-charcoal/90 border border-gold-500/30 p-6 rounded-xl shadow-2xl w-full max-w-xs text-center backdrop-blur-md">
                                            <LockIcon className="w-8 h-8 text-gold-500 mx-auto mb-3" />
                                            <h3 className="text-white font-bold mb-2">Unlock Detailed Quote</h3>
                                            <p className="text-gray-400 text-xs mb-4">Enter your details to see the full breakdown and download the PDF.</p>

                                            <form onSubmit={handleSubmit} className="space-y-3" noValidate>
                                                <div>
                                                    <input
                                                        type="text"
                                                        placeholder="Your Name"
                                                        required
                                                        className={`w-full bg-black/50 border rounded px-3 py-2 text-sm text-white outline-none transition-colors ${errors.name ? 'border-red-500 focus:border-red-500' : 'border-gray-700 focus:border-gold-500'} `}
                                                        value={formData.name}
                                                        onChange={e => {
                                                            setFormData({ ...formData, name: e.target.value });
                                                            if (errors.name) setErrors({ ...errors, name: null });
                                                        }}
                                                    />
                                                    {errors.name && <p className="text-red-500 text-xs mt-1 text-left">{errors.name}</p>}
                                                </div>

                                                <div>
                                                    <input
                                                        type="tel"
                                                        placeholder="Phone Number"
                                                        required
                                                        className={`w-full bg-black/50 border rounded px-3 py-2 text-sm text-white outline-none transition-colors ${errors.phone ? 'border-red-500 focus:border-red-500' : 'border-gray-700 focus:border-gold-500'}`}
                                                        value={formData.phone}
                                                        onChange={e => {
                                                            setFormData({ ...formData, phone: e.target.value });
                                                            if (errors.phone) setErrors({ ...errors, phone: null });
                                                        }}
                                                    />
                                                    {errors.phone && <p className="text-red-500 text-xs mt-1 text-left">{errors.phone}</p>}
                                                </div>

                                                <button
                                                    type="submit"
                                                    disabled={loading}
                                                    className="w-full bg-[#25D366] hover:bg-[#128C7E] text-white font-bold py-3 rounded transition-colors flex items-center justify-center gap-2"
                                                >
                                                    {loading ? 'Sending...' : (
                                                        <>
                                                            <WhatsAppIcon className="w-5 h-5" />
                                                            Send Quote to WhatsApp
                                                        </>
                                                    )}
                                                </button>
                                            </form>
                                        </div>
                                    </div>
                                )}
                            </div>

                            {/* Success Modal */}
                            {showModal && (
                                <div className="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fade-in">
                                    <div className="bg-surface border border-gold-500 p-8 rounded-2xl shadow-2xl max-w-md w-full text-center relative">
                                        <div className="w-16 h-16 bg-gold-500/20 rounded-full flex items-center justify-center mx-auto mb-4">
                                            <CheckIcon className="w-8 h-8 text-gold-500" />
                                        </div>
                                        <h2 className="text-2xl font-bold text-white mb-2">Quote Generated Successfully!</h2>
                                        <div className="text-3xl font-bold text-gold-500 mb-4">
                                            {formatCurrency(calculateTotal)}
                                        </div>
                                        <p className="text-gray-400 mb-6">
                                            Our team is reviewing your specific configuration. You will receive a detailed PDF breakdown on WhatsApp shortly.
                                        </p>
                                        <button
                                            onClick={() => window.location.reload()}
                                            className="w-full bg-gold-500 hover:bg-gold-400 text-black font-bold py-3 rounded-lg transition-colors"
                                        >
                                            Close
                                        </button>
                                    </div>
                                </div>
                            )}

                        </div>
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>

</html>